{"version":3,"sources":["webpack:///src/views/Csv.vue","webpack:///./src/views/Csv.vue","webpack:///./src/views/Csv.vue?1cfa","webpack:///./node_modules/file-saver/dist/FileSaver.min.js"],"names":["Csv","name","data","group","onlyteachers","errors","loading","groupsStudents","mounted","this","JSON","parse","sessionStorage","methods","csv","_this","Object","DomainRead","err","users","push","message","csvUsers","keys_default","forEach","user","suspended","teacher","groups","includes","usergroup","config","groupPrefixStudents","substr","length","surname","domainemail","sort","a","b","fileName","Date","toLocaleString","csvContent","map","e","join","csfFile","Blob","type","FileSaver_min","__vue_styles__","context","__webpack_require__","Component","component_normalizer","_vm","_h","$createElement","_c","_self","staticClass","_m","_v","on","submit","$event","preventDefault","attrs","for","directives","rawName","value","expression","id","disabled","change","$$selectedVal","Array","prototype","filter","call","target","options","o","selected","_value","multiple","_l","key","email","domProps","_s","nameWithEmail","checked","isArray","_i","$$a","$$el","$$c","$$i","concat","slice","click","_e","error","index","role","data-dismiss","aria-label","aria-hidden","__webpack_exports__","global","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","undefined","c","d","XMLHttpRequest","open","responseType","onload","g","response","onerror","console","send","status","dispatchEvent","MouseEvent","document","createEvent","initMouseEvent","window","f","self","navigator","test","userAgent","saveAs","HTMLAnchorElement","h","i","URL","webkitURL","j","createElement","download","rel","href","origin","location","createObjectURL","setTimeout","revokeObjectURL","msSaveOrOpenBlob","autoBom","warn","title","body","innerText","HTMLElement","safari","FileReader","k","onloadend","result","replace","readAsDataURL","l","m","module","exports","apply"],"mappings":"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","file":"static/js/1.94cf72a9b3bfa63ea651.js","sourcesContent":["<template>\r\n  <div>\r\n    <!-- Form CSV -->\r\n    <div class=\"card shadow mb-4\">\r\n      <div class=\"card-header py-3\">\r\n          <h6 class=\"m-0 font-weight-bold text-primary\">Exportar a CSV</h6>\r\n      </div>\r\n      <div class=\"card-body\">\r\n        <form @submit.prevent>\r\n          <div class=\"form-group\">\r\n            <label for=\"groupsdomainuserscsv\" class=\"col-sm col-form-label\">Grup d'alumnes</label>\r\n            <div class=\"col-sm-10\">\r\n              <select class=\"form-control\" id=\"group\" name=\"group\" v-model=\"group\" :disabled=\"loading\">\r\n                <option value=\"\">Tots</option>\r\n                <option v-for=\"group in groupsStudents\" v-bind:key=\"group.email\" v-bind:value=\"group.email\">\r\n                  {{ group.nameWithEmail }}\r\n                </option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <div class=\"form-check\">\r\n              <label class=\"form-check-label\">\r\n              <input class=\"form-check-input\" id=\"onlyteachers\" name=\"onlyteachers\" type=\"checkbox\" v-model=\"onlyteachers\" :disabled=\"loading\"> Només professorat</label>\r\n            </div>\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <button class=\"btn btn-primary\" v-on:click=\"csv()\" :disabled=\"loading\">\r\n              <span v-if=\"loading\" class=\"spinner-border spinner-border-sm\"></span>\r\n              {{ loading ? 'Exportant ...' : 'Exportar' }}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n    <!-- Fi form CSV -->\r\n    <div class=\"alert alert-danger alert-dismissible fade show\" role=\"alert\" v-for=\"(error, index) in errors\" v-bind:key=\"index\">\r\n      <strong>ERROR: </strong>{{error}}\r\n      <button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\r\n        <span aria-hidden=\"true\">&times;</span>\r\n      </button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { saveAs } from 'file-saver'\r\nimport {getDomainUsers} from '@/api/DomainRead'\r\nimport {config} from '@/config'\r\n\r\nexport default {\r\n  name: 'Csv',\r\n  data () {\r\n    return {\r\n      group: '',\r\n      onlyteachers: false,\r\n      errors: [],\r\n      loading: false,\r\n      groupsStudents: []\r\n    }\r\n  },\r\n  mounted () {\r\n    this.groupsStudents = JSON.parse(sessionStorage.groupsStudents)\r\n  },\r\n  methods: {\r\n    csv () {\r\n      this.loading = true\r\n      getDomainUsers(null, (err, users) => {\r\n        if (err) {\r\n          this.errors.push('Error llegint usuaris \"' + err.message + '\"')\r\n        } else {\r\n          // Array amb informació a exportar al CSV\r\n          let csvUsers = []\r\n          // Per cada usuari del domini...\r\n          Object.keys(users).forEach(user => {\r\n            if (!users[user].suspended) {\r\n              if (!this.onlyteachers || users[user].teacher) {\r\n                if (!this.group || users[user].groups.includes(this.group)) {\r\n                  let usergroup = ''\r\n                  if (users[user].teacher) {\r\n                    usergroup = 'Professorat'\r\n                  } else {\r\n                    users[user].groups.forEach(group => {\r\n                      if (group.includes(config().groupPrefixStudents)) {\r\n                        usergroup = group.substr(config().groupPrefixStudents.length)\r\n                      }\r\n                    })\r\n                  }\r\n                  if (usergroup) {\r\n                    csvUsers.push([\r\n                      users[user].surname,\r\n                      users[user].name,\r\n                      users[user].domainemail,\r\n                      usergroup\r\n                    ])\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          })\r\n          // Ordenam per la primera columna de l'array\r\n          csvUsers.sort((a, b) => { return (a[0] < b[0] ? -1 : 1) })\r\n\r\n          // Exportar a fitxer CSV\r\n          let fileName = 'domainusers' + (new Date()).toLocaleString() + '.csv'\r\n\r\n          let csvContent = csvUsers.map(e => e.join(',')).join('\\r\\n')\r\n          let csfFile = new Blob([csvContent], { type: 'data:text/csv;charset=utf-8' })\r\n          saveAs(csfFile, fileName)\r\n        }\r\n        this.loading = false\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/Csv.vue","function injectStyle (context) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"scoped\\\":false,\\\"sourceMap\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Csv.vue\")\n}\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Csv.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Csv.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-50d0e6e0\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Csv.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/Csv.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"card shadow mb-4\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"card-body\"},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();}}},[_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"col-sm col-form-label\",attrs:{\"for\":\"groupsdomainuserscsv\"}},[_vm._v(\"Grup d'alumnes\")]),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-10\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.group),expression:\"group\"}],staticClass:\"form-control\",attrs:{\"id\":\"group\",\"name\":\"group\",\"disabled\":_vm.loading},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.group=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"\"}},[_vm._v(\"Tots\")]),_vm._v(\" \"),_vm._l((_vm.groupsStudents),function(group){return _c('option',{key:group.email,domProps:{\"value\":group.email}},[_vm._v(\"\\n                \"+_vm._s(group.nameWithEmail)+\"\\n              \")])})],2)])]),_vm._v(\" \"),_c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"form-check\"},[_c('label',{staticClass:\"form-check-label\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.onlyteachers),expression:\"onlyteachers\"}],staticClass:\"form-check-input\",attrs:{\"id\":\"onlyteachers\",\"name\":\"onlyteachers\",\"type\":\"checkbox\",\"disabled\":_vm.loading},domProps:{\"checked\":Array.isArray(_vm.onlyteachers)?_vm._i(_vm.onlyteachers,null)>-1:(_vm.onlyteachers)},on:{\"change\":function($event){var $$a=_vm.onlyteachers,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.onlyteachers=$$a.concat([$$v]))}else{$$i>-1&&(_vm.onlyteachers=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.onlyteachers=$$c}}}}),_vm._v(\" Només professorat\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"form-group\"},[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"disabled\":_vm.loading},on:{\"click\":function($event){return _vm.csv()}}},[(_vm.loading)?_c('span',{staticClass:\"spinner-border spinner-border-sm\"}):_vm._e(),_vm._v(\"\\n            \"+_vm._s(_vm.loading ? 'Exportant ...' : 'Exportar')+\"\\n          \")])])])])]),_vm._v(\" \"),_vm._l((_vm.errors),function(error,index){return _c('div',{key:index,staticClass:\"alert alert-danger alert-dismissible fade show\",attrs:{\"role\":\"alert\"}},[_c('strong',[_vm._v(\"ERROR: \")]),_vm._v(_vm._s(error)+\"\\n    \"),_vm._m(1,true)])})],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-header py-3\"},[_c('h6',{staticClass:\"m-0 font-weight-bold text-primary\"},[_vm._v(\"Exportar a CSV\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"alert\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])}]\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-50d0e6e0\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/Csv.vue\n// module id = null\n// module chunks = ","(function(a,b){if(\"function\"==typeof define&&define.amd)define([],b);else if(\"undefined\"!=typeof exports)b();else{b(),a.FileSaver={exports:{}}.exports}})(this,function(){\"use strict\";function b(a,b){return\"undefined\"==typeof b?b={autoBom:!1}:\"object\"!=typeof b&&(console.warn(\"Deprecated: Expected third argument to be a object\"),b={autoBom:!b}),b.autoBom&&/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(a.type)?new Blob([\"\\uFEFF\",a],{type:a.type}):a}function c(a,b,c){var d=new XMLHttpRequest;d.open(\"GET\",a),d.responseType=\"blob\",d.onload=function(){g(d.response,b,c)},d.onerror=function(){console.error(\"could not download file\")},d.send()}function d(a){var b=new XMLHttpRequest;b.open(\"HEAD\",a,!1);try{b.send()}catch(a){}return 200<=b.status&&299>=b.status}function e(a){try{a.dispatchEvent(new MouseEvent(\"click\"))}catch(c){var b=document.createEvent(\"MouseEvents\");b.initMouseEvent(\"click\",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(b)}}var f=\"object\"==typeof window&&window.window===window?window:\"object\"==typeof self&&self.self===self?self:\"object\"==typeof global&&global.global===global?global:void 0,a=f.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),g=f.saveAs||(\"object\"!=typeof window||window!==f?function(){}:\"download\"in HTMLAnchorElement.prototype&&!a?function(b,g,h){var i=f.URL||f.webkitURL,j=document.createElement(\"a\");g=g||b.name||\"download\",j.download=g,j.rel=\"noopener\",\"string\"==typeof b?(j.href=b,j.origin===location.origin?e(j):d(j.href)?c(b,g,h):e(j,j.target=\"_blank\")):(j.href=i.createObjectURL(b),setTimeout(function(){i.revokeObjectURL(j.href)},4E4),setTimeout(function(){e(j)},0))}:\"msSaveOrOpenBlob\"in navigator?function(f,g,h){if(g=g||f.name||\"download\",\"string\"!=typeof f)navigator.msSaveOrOpenBlob(b(f,h),g);else if(d(f))c(f,g,h);else{var i=document.createElement(\"a\");i.href=f,i.target=\"_blank\",setTimeout(function(){e(i)})}}:function(b,d,e,g){if(g=g||open(\"\",\"_blank\"),g&&(g.document.title=g.document.body.innerText=\"downloading...\"),\"string\"==typeof b)return c(b,d,e);var h=\"application/octet-stream\"===b.type,i=/constructor/i.test(f.HTMLElement)||f.safari,j=/CriOS\\/[\\d]+/.test(navigator.userAgent);if((j||h&&i||a)&&\"undefined\"!=typeof FileReader){var k=new FileReader;k.onloadend=function(){var a=k.result;a=j?a:a.replace(/^data:[^;]*;/,\"data:attachment/file;\"),g?g.location.href=a:location=a,g=null},k.readAsDataURL(b)}else{var l=f.URL||f.webkitURL,m=l.createObjectURL(b);g?g.location=m:location.href=m,g=null,setTimeout(function(){l.revokeObjectURL(m)},4E4)}});f.saveAs=g.saveAs=g,\"undefined\"!=typeof module&&(module.exports=g)});\n\n//# sourceMappingURL=FileSaver.min.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/file-saver/dist/FileSaver.min.js\n// module id = t4zo\n// module chunks = 0 1"],"sourceRoot":""}